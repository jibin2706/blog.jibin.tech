import React, { useEffect, useRef } from 'react'
import { Link } from 'gatsby'
// import { throttle } from 'lodash'
import Navigation from './Navigation'

import './header.scss'

function Header() {
  const header = useRef()

  useEffect(() => {
    // window.addEventListener(
    //   'scroll',
    //   throttle(function(e) {
    //     console.log(document.body.getBoundingClientRect())
    //     if (document.body.getBoundingClientRect().y < -50) {
    //       header.current && header.current.classList.add('header--scroll')
    //     } else {
    //       header.current && header.current.classList.remove('header--scroll')
    //     }
    //   }, 200)
    // )
  }, [])

  return (
    <header className="header" id="header" ref={header}>
      <div className="header__container">
        <Link to="/">
          <svg
            className="brand-logo"
            title="Jibin Thomas"
            viewBox="0 0 300 300"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              fillRule="evenodd"
              clipRule="evenodd"
              d="M150 0C67.1573 0 0 67.1573 0 150C0 187.248 13.5764 221.325 36.0508 247.552L33.8555 231.387C33.8555 231.217 34.1094 230.879 34.6172 230.371C35.2096 229.779 35.6751 229.398 36.0137 229.229C39.0605 228.044 42.0651 226.689 45.0273 225.166C47.9896 223.643 50.6133 221.865 52.8984 219.834C55.2682 217.718 57.1725 215.264 58.6113 212.471C60.1348 209.593 60.9811 206.25 61.1504 202.441L69.6562 87.8027C69.7409 86.2793 69.8255 85.0098 69.9102 83.9941C69.9948 82.9785 70.1217 82.1322 70.291 81.4551C70.5449 80.778 70.8835 80.2702 71.3066 79.9316C71.7298 79.5931 72.4069 79.3392 73.3379 79.1699L117.264 68.6328C118.364 68.2943 119.464 68.125 120.564 68.125C121.749 68.125 122.553 68.5059 122.977 69.2676C123.484 70.0293 123.738 71.4681 123.738 73.584L119.93 114.336L117.645 138.711C117.137 144.382 116.629 149.883 116.121 155.215C115.613 160.547 115.105 165.498 114.598 170.068C114.174 174.554 113.794 178.574 113.455 182.129C113.117 185.599 112.863 188.392 112.693 190.508L112.439 194.189C111.762 203.838 109.9 213.063 106.854 221.865C103.891 230.667 99.9134 238.454 94.9199 245.225C90.0111 251.911 84.1289 257.243 77.2734 261.221C70.9542 264.933 63.9715 266.913 56.3252 267.161C81.9936 287.711 114.562 300 150 300C232.843 300 300 232.843 300 150C300 126.369 294.536 104.015 284.802 84.1318C283.926 86.6095 283.051 89.0603 282.176 91.4844C281.076 94.5312 279.933 97.6204 278.748 100.752C277.648 103.883 276.421 107.184 275.066 110.654C274.982 110.739 274.812 111.162 274.559 111.924C274.305 112.601 273.924 113.405 273.416 114.336C272.908 115.182 272.231 115.986 271.385 116.748C270.538 117.51 269.48 117.933 268.211 118.018C267.788 117.933 267.365 117.891 266.941 117.891H265.545H231.648C231.225 122.207 230.802 126.777 230.379 131.602C230.04 136.426 229.617 141.123 229.109 145.693L219.842 244.844C219.757 245.605 219.588 246.367 219.334 247.129C219.165 247.891 218.615 248.441 217.684 248.779L181.756 261.729C180.825 262.067 179.598 262.49 178.074 262.998C176.551 263.506 175.07 263.76 173.631 263.76C172.446 263.76 171.388 263.464 170.457 262.871C169.611 262.279 169.188 261.178 169.188 259.57V259.062C169.611 252.884 170.034 246.917 170.457 241.162C170.88 235.407 171.261 229.821 171.6 224.404L176.17 164.482C176.678 159.912 177.101 155.765 177.439 152.041C177.778 148.232 178.032 144.551 178.201 140.996C178.455 137.357 178.667 133.717 178.836 130.078C179.09 126.354 179.344 122.249 179.598 117.764C176.805 117.679 173.842 117.637 170.711 117.637H161.062H136.561C135.63 117.637 135.037 117.298 134.783 116.621C134.614 115.859 134.529 115.182 134.529 114.59V113.701L148.494 77.0117L148.367 76.5039C148.367 76.0807 148.621 75.7422 149.129 75.4883C149.721 75.1497 150.991 74.8958 152.938 74.7266C164.617 74.0495 175.916 73.4147 186.834 72.8223C197.837 72.1452 208.67 71.5527 219.334 71.0449C230.083 70.5371 240.789 70.0293 251.453 69.5215C259.446 69.1439 267.602 68.7897 275.922 68.4589C249.186 27.2556 202.776 0 150 0Z"
              fill="#0080A8"
            />
          </svg>
        </Link>
        <Navigation />
      </div>
    </header>
  )
}

export default Header
